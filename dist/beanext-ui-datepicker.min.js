"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="bui.datepicker"),angular.module("bui.datepicker",[]).directive("buiDatepicker",[function(){return{restrict:"A",require:"?ngModel",scope:{minDateFunc:"&?",maxDateFunc:"&?"},link:function(a,b,c,d){if(d=d||{$setViewValue:angular.noop},b.hasClass("form-control")){var e='<span class="fa fa-calendar fa-lg form-control-feedback" style="padding-top: 10px;"></span>';b.parent().addClass("has-feedback"),b.before(e)}b.attr("readOnly","readOnly"),b.bind("change",function(){a.$apply(function(){d.$setViewValue(b.val())})});var f=function(b){var c=b.cal.getNewDateStr();a.$apply(function(){d.$setViewValue(c)})},g=function(){return f(window.$dp)},h=c.showClear?"true"===c.showClear:!0,i=c.showOk?"true"===c.showOk:!0,j=c.showToday?"true"===c.showToday:!0;b.bind("click",function(){var b={oncleared:function(){a.$apply(function(){d.$setViewValue("")})},isShowClear:h,isShowOk:i,isShowToday:j,onpicked:f,dchanged:g,Mchanged:g,ychanged:g,Hchanged:g,mchanged:g,schanged:g,skin:"ext",dateFmt:c.dateFmt||"yyyy-MM-dd"};c.minDate&&(b.minDate=c.minDate),c.maxDate&&(b.maxDate=c.maxDate),c.minDateFunc&&(b.minDate=a.minDateFunc()),c.maxDateFunc&&(b.maxDate=a.maxDateFunc()),window.WdatePicker(b)})}}}]);